# terminal-management-service

侦查终端管理, 这些终端上有不同侦查工具可以执行侦查任务, 这个服务用来管理终端,保证任务调度时可以选择合适的终端.
主要功能包括侦查终端 CRUD
- 创建:终端指定 ip, 名称,  label,可以执行的侦查工具,行政区划(区县级),管理员可以创建终端(跟自己同区划或下属区划的终端),普通用户只能查看跟自己相同区划的终端信息
- 提供更新接口更新终端状态(在线,离线,错误等),管理员可以创建终端,普通用户只能查看跟自己相同区划的终端信息, 整理以上需求
- 列举终端
- 删除终端
行政区划可以用行政编码, 省市区县代码 (211201 这种)

1. 核心功能需求
功能模块	详细需求
终端CRUD	- 完整创建/读取/更新/删除功能
- 创建时需指定IP(含端口)、名称、工具集、行政区划
状态管理	- 提供接口更新终端状态(在线/离线/错误)
- 自动检测心跳超时转为离线状态
权限控制	- 管理员可管理所有终端
- 普通用户只能查看同行政区划终端
行政区划绑定	- 终端创建时自动绑定用户所属行政区划层级
IP地址规范	- 支持IP:Port格式输入
- 未指定端口时使用默认端口

## 技术栈

- 使用 golang ,hertz, protobuf 定义 idl(proto), 通过 hz gen 从 idl 生成. 
- 数据库使用 TiDB
- 提供标准 RESTful API
